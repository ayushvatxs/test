<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Violina üíó</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
/* ================= YOUR ORIGINAL STYLES (RESTORED EXACTLY) ================= */
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(180deg,#fff,#ffd6e8);
  font-family:"Segoe UI",system-ui;
  overflow:hidden;
  overflow-y:auto;
}
/* ... (Your original keyframes and modals styles kept here for consistency) ... */
@keyframes pop { from { transform: scale(.6); opacity: 0; } to { transform: scale(1); opacity: 1; } }
#codeModal{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; z-index:20; }
.codeCard{ background:white; padding:22px; border-radius:18px; width:90%; max-width:320px; text-align:center; position:relative; box-shadow:0 25px 60px rgba(0,0,0,.25); }
.codeCard input{ width:100%; padding:10px; margin:12px 0; }
.codeCard button{ padding:8px 18px; cursor:pointer; }
#closeModal,#closeMsg{ position:absolute; top:10px; right:12px; cursor:pointer; }
#messageBox{ position:fixed; inset:0; background:#ffe6f2; display:none; align-items:center; justify-content:center; z-index:15; }
#messageBox p{ background:white; padding:24px; border-radius:20px; max-width:320px; max-height:70vh; overflow-y:auto; box-shadow:0 25px 60px rgba(255,120,170,.4); }
#effects{ position:fixed; inset:0; pointer-events:none; z-index:5; }
.particle{ position:absolute; font-size:22px; animation:rise linear forwards; }
@keyframes rise{ from{transform:translateY(80px) scale(.6);opacity:0} 20%{opacity:1} to{transform:translateY(-120vh) scale(1.2);opacity:0} }

/* --- YOUR CARD STYLES (RESTORED) --- */
.card{
  width:92%; max-width:420px; background:white; border-radius:22px; padding:18px 18px 20px; text-align:center; box-shadow:0 25px 70px rgba(255,120,170,.3); position:relative; z-index:2;
}
.photo{ width:135px;height:135px; margin:0 auto 12px; border-radius:50%; overflow:hidden; border:5px solid #ffd1e5; transition: all 0.5s ease; }
.photo img{ width:100%;height:100%; object-fit:cover; opacity:1; transition:opacity .7s ease; }
h2 { margin-top: 0; }
.sub{font-size:.95rem;color:#555}
.date{margin:6px 0 6px;font-weight:600}
.timer{margin:6px 0}
.box{ background:#fff5fa; padding:10px 18px; border-radius:12px; font-weight:700; display:inline-block; }

.actions{ margin-top:-18px; padding-bottom:8px; transition: margin 0.5s ease; }
.bday{
  margin:6px auto 4px; padding:11px 24px; border-radius:22px; border:none; background:#eee; color:#999; cursor:not-allowed; margin-top: 22px; transition: all 0.3s ease;
}
/* Gift styles */
.gift{ font-size:48px; cursor:pointer; margin-top:2px; animation: giftFloat 2.8s ease-in-out infinite; }
#giftText{ margin-top:4px; font-size:.95rem; color:#ff4f9a; font-weight:700; }
@keyframes giftFloat { 0% { transform: translateY(0); } 50% { transform: translateY(-6px); } 100% { transform: translateY(0); } }
#musicBtn{ position:fixed; position:relative; }
#musicBtn.muted::after{ content:""; position:absolute; width:34px; height:3px; background:#ff4f9a; top:50%; left:50%; transform:translate(-50%,-50%) rotate(-45deg); border-radius:2px; }

/* ================= NEW PREMIUM UPGRADES (Hidden until 00:00) ================= */

/* 1. NEW BOLD 3D GLOWING TEXT */
#premiumBirthday {
  display: none; /* Hidden initially */
  margin-top: 30px;
  margin-bottom: 30px;
}

.super-3d-text {
  font-family: 'Montserrat', sans-serif; /* BOLD font */
  font-weight: 900;
  font-size: 3.5rem;
  line-height: 1;
  color: #fff; /* White face */
  text-transform: uppercase;
  margin: 0;
  transform: scale(0); /* Start invisible for animation */
  /* Bouncy entrance animation */
  animation: popUpGlow 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  
  /* THE 3D GLOW EFFECT */
  text-shadow: 
      1px 1px 0px #ff4081,
      2px 2px 0px #ff4081,
      3px 3px 0px #ff4081,
      4px 4px 0px #d81b60,
      5px 5px 0px #d81b60, /* 3D layers */
      0 0 20px rgba(255, 64, 129, 1), /* Bright inner glow */
      0 0 50px rgba(255, 64, 129, 0.6), /* Wide outer glow */
      0 20px 30px rgba(0,0,0,0.2); /* Shadow for depth */
}

/* AMAZING APPEARANCE ANIMATION */
@keyframes popUpGlow {
  0% { transform: scale(0) translateY(50px); opacity: 0; filter: brightness(0.5); }
  60% { transform: scale(1.1) translateY(0); opacity: 1; filter: brightness(2); } /* Flash bright */
  100% { transform: scale(1) translateY(0); opacity: 1; filter: brightness(1); }
}

.queen-sub { font-size: 1rem; color: #d81b60; font-weight: 700; margin-top: 15px; letter-spacing: 2px; opacity: 0; animation: fadeIn 1s ease 0.8s forwards; }
@keyframes fadeIn { to { opacity: 1; } }

/* 2. THE CROWN (Replaces Gift) */
#queenCrown { display: none; font-size: 4.5rem; margin-top: 20px; filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6)); animation: crownFloat 3s ease-in-out infinite alternate; }
@keyframes crownFloat { from { transform: translateY(0) scale(1); } to { transform: translateY(-10px) scale(1.1); } }

/* 3. ACTIVE BUTTON STYLE */
.bday.active-party {
  background: linear-gradient(45deg, #ff4081, #ff80ab) !important; color: white !important; cursor: pointer !important; box-shadow: 0 10px 25px rgba(255, 64, 129, 0.4); transform: scale(1.1); animation: bounceBtn 2s infinite;
}
@keyframes bounceBtn { 0%, 20%, 50%, 80%, 100% {transform: scale(1.1) translateY(0);} 40% {transform: scale(1.1) translateY(-10px);} 60% {transform: scale(1.1) translateY(-5px);} }

/* 4. POST-BIRTHDAY PHOTO BORDER */
.photo.party-mode {
    border-color: #d4af37; /* Gold border */
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
    transform: scale(1.1);
}

</style>
</head>
<body>

  <div id="effects"></div>

  <div class="card">
    <div class="photo" id="mainPhoto">
      <img id="photoImg" src="photo1.jpg">
    </div>

    <div id="preHeadings">
      <h2>üíå A Special Day Is Almost Here</h2>
      <div class="sub">Because the girl who means everything to me deserves to be celebrated by the world</div>
      <div class="date">13 February</div>
    </div>

    <div class="timer" id="timer"></div>

    <div id="premiumBirthday">
      <h1 class="super-3d-text">HAPPY<br>BIRTHDAY</h1>
      <div class="queen-sub">THE QUEEN HAS ARRIVED üëë</div>
    </div>

    <div class="actions" id="actionsDiv">
      <button class="bday" id="bdayBtn" disabled>Happy Birthday üéâ</button>

      <div id="giftWrap">
        <div class="gift" id="gift">üéÅ</div>
        <div id="giftText">Only for Violina üíó</div>
      </div>

      <div id="queenCrown">
        üëë
      </div>
    </div>
  </div>

  <div id="codeModal"><div class="codeCard"><span id="closeModal">‚úñ</span><h3>Secret Code üíï</h3><input type="password" id="secretInput" placeholder="Enter code"><button id="openGiftBtn">Unlock</button></div></div>
  <div id="messageBox"><div class="codeCard"><span id="closeMsg">‚úñ</span><p style="text-align:left;line-height:1.6;color:#555;">Ayoo üò≠ only a few days left and I genuinely don‚Äôt know how to act normal anymore. My brain is already in celebration mode and my heart is clearly ahead of schedule ü•∞üíñ<br><br>Thinking of you feels like pressing pause on the world üíó</p></div></div>

  <button id="musicBtn" class="muted" style="position:fixed;bottom:16px;right:16px;z-index:30;background:#fff;border:none;border-radius:50%;width:52px;height:52px;font-size:22px;box-shadow:0 10px 25px rgba(0,0,0,.2);cursor:pointer;"><span id="musicIcon">üéµ</span></button>
  <audio id="loudMusic" src="happy-birthday.mp3"></audio>

<script>
// ==========================================
// üî¥ SET TO TRUE TO TEST ANIMATION (Timer = 3s)
// üü¢ SET TO FALSE FOR REAL DATE
const TEST_MODE = true; 
// ==========================================

const birthdayDate = new Date("February 13, 2026 00:00:00").getTime();
const timerEl = document.getElementById("timer");
const bdayBtn = document.getElementById("bdayBtn");
const preHeadings = document.getElementById("preHeadings");
const giftWrap = document.getElementById("giftWrap");
const premiumBirthday = document.getElementById("premiumBirthday");
const queenCrown = document.getElementById("queenCrown");
const mainPhoto = document.getElementById("mainPhoto");
const actionsDiv = document.getElementById("actionsDiv");

// TIMER LOGIC
const x = setInterval(function() {
  let now = new Date().getTime();
  let distance = birthdayDate - now;

  if (TEST_MODE) { distance = -1; } // Force trigger for testing

  if (distance < 0) {
    clearInterval(x);
    // === TRIGGER PREMIUM MODE ===
    launchPremiumMode();
  } else {
    // Timer Math
    let days = Math.floor(distance / (1000 * 60 * 60 * 24));
    let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    let seconds = Math.floor((distance % (1000 * 60)) / 1000);

    timerEl.innerHTML = `<div class="box">${days}d</div><div class="box">${hours}h</div><div class="box">${minutes}m</div><div class="box">${seconds}s</div>`;
  }
}, 1000);

function launchPremiumMode() {
  // 1. Hide Pre-Birthday Elements
  timerEl.style.display = "none";
  giftWrap.style.display = "none"; // Hide old gift
  preHeadings.style.display = "none"; // Hide old title
  
  // Adjust spacing
  actionsDiv.style.marginTop = "10px";

  // 2. Show Premium Elements
  premiumBirthday.style.display = "block";
  queenCrown.style.display = "block";
  mainPhoto.classList.add("party-mode"); // Gold border and scale

  // 3. Activate Button
  bdayBtn.disabled = false;
  bdayBtn.classList.add("active-party");
  bdayBtn.onclick = () => window.location.href = "birthday.html";

  // 4. Fire Confetti
  fireConfetti();
  
  // 5. Play Music
  if(musicUnlocked) { loudMusic.play(); }
}

function fireConfetti() {
  var duration = 3 * 1000; var end = Date.now() + duration;
  (function frame() {
    confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff4081', '#d4af37', '#ffffff'] });
    confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ff4081', '#d4af37', '#ffffff'] });
    if (Date.now() < end) { requestAnimationFrame(frame); }
  }());
}

// --- YOUR ORIGINAL GIFT & MUSIC LOGIC ---
const gift = document.getElementById("gift");
const giftText = document.getElementById("giftText");
const codeModal = document.getElementById("codeModal");
const secretInput = document.getElementById("secretInput");
const openGiftBtn = document.getElementById("openGiftBtn");
const closeModal = document.getElementById("closeModal");
const messageBox = document.getElementById("messageBox");
const closeMsg = document.getElementById("closeMsg");
const musicBtn = document.getElementById("musicBtn");
const loudMusic = document.getElementById("loudMusic");
const musicIcon = document.getElementById("musicIcon");

gift.onclick = () => { codeModal.style.display = "flex"; };
closeModal.onclick = () => { codeModal.style.display = "none"; };
closeMsg.onclick = () => { messageBox.style.display = "none"; };
openGiftBtn.onclick = () => {
  if (secretInput.value === "1313") {
    codeModal.style.display = "none"; messageBox.style.display = "flex"; gift.textContent = "üéä"; giftText.innerHTML = "Opened üíó";
  } else { alert("Wrong code üíî"); }
};

loudMusic.loop = false; let musicUnlocked = false; let isMuted = true;
musicBtn.onclick = () => {
  if (!musicUnlocked) { loudMusic.volume = 1; loudMusic.play().catch(()=>{}); loudMusic.pause(); loudMusic.currentTime = 0; musicUnlocked = true; }
  if (isMuted) { loudMusic.currentTime = 0; loudMusic.play().catch(()=>{}); musicBtn.classList.remove("muted"); musicIcon.textContent = "üîä"; isMuted = false; } else { loudMusic.pause(); musicBtn.classList.add("muted"); musicIcon.textContent = "üéµ"; isMuted = true; }
};
loudMusic.onended = () => { musicBtn.classList.add("muted"); musicIcon.textContent = "üéµ"; isMuted = true; };

// PHOTO SLIDESHOW
const photos=["photo1.jpg","photo2.jpg","photo3.jpg"]; let p=0; const img=document.getElementById("photoImg");
setInterval(()=>{ img.style.opacity=0; setTimeout(()=>{ p=(p+1)%photos.length; img.src=photos[p]; img.style.opacity=1; },350); },4000);
</script>
</body>
</html>
