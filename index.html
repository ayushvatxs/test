<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Violina üíó</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
/* ================= GLOBAL & BACKGROUND ================= */
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  /* PREMIUM ANIMATED GRADIENT BACKGROUND */
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #ffd1ff, #fbc2eb);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  font-family: 'Montserrat', sans-serif;
  overflow: hidden;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ================= THE GLASS CARD (Pro Frosted Effect) ================= */
.card {
  position: relative;
  width: 90%;
  max-width: 420px;
  /* Glassmorphism Logic */
  background: rgba(255, 255, 255, 0.65); /* Semi-transparent white */
  backdrop-filter: blur(20px);           /* The Blur Magic */
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.8); /* Subtle border */
  border-radius: 24px;
  padding: 40px 20px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15); /* Soft, deep shadow */
  z-index: 10;
  transition: transform 0.3s ease;
}

/* ================= ORIGINAL ELEMENTS (PRE-BIRTHDAY) ================= */
.photo-container {
  width: 140px; height: 140px; margin: 0 auto 15px;
  border-radius: 50%; padding: 4px; background: white;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}
.photo img {
  width: 100%; height: 100%; object-fit: cover; border-radius: 50%;
  transition: opacity 0.5s;
}

h2.headline {
  font-family: 'Playfair Display', serif;
  color: #333; font-size: 1.5rem; margin: 10px 0;
}
.sub { font-size: 0.9rem; color: #666; margin-bottom: 20px; font-weight: 300; }
.date { font-weight: 700; color: #d81b60; margin-bottom: 20px; letter-spacing: 1px; }

/* TIMER */
.timer { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; }
.box {
  background: #fff; padding: 10px; border-radius: 12px; min-width: 55px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05); font-weight: 700; color: #d81b60;
}

/* GIFT BOX (Pre-Birthday) */
.gift-container { cursor: pointer; margin-top: 10px; animation: float 3s ease-in-out infinite; }
.gift-emoji { font-size: 3.5rem; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); }
.gift-text { font-size: 0.8rem; color: #888; margin-top: 5px; }

@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

/* BUTTON */
.actions { margin-top: 25px; }
.bday {
  padding: 14px 35px; border-radius: 50px; border: none;
  background: #e0e0e0; color: #999; font-weight: 600; font-size: 1rem;
  cursor: not-allowed; transition: all 0.4s ease;
  text-decoration: none; display: inline-block;
}

/* ================= üëë POST-BIRTHDAY PREMIUM UPGRADES ================= */

/* 1. TRUE 3D TEXT (Rose Gold) */
#premiumBirthday {
  display: none; /* Hidden until timer 0 */
  opacity: 0;
  margin: 15px 0;
  transform: scale(0.8);
  transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.threed-text {
  font-family: 'Great Vibes', cursive;
  font-size: 4.2rem;
  line-height: 1.1;
  color: #d4af37; /* Fallback */
  margin: 0;
  
  /* The Rose Gold Gradient Fill */
  background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  
  /* The 3D Layering Effect */
  text-shadow: 
    0px 1px 0px #c7a45b,
    0px 2px 0px #b69246,
    0px 3px 0px #a58032,
    0px 4px 0px #946e1e,
    0px 5px 0px #835f15,
    0px 6px 4px rgba(0,0,0,0.1),
    0px 10px 20px rgba(0,0,0,0.3); /* Big soft shadow */
    
  animation: shine 4s linear infinite;
}

@keyframes shine {
  from { filter: brightness(100%); }
  50% { filter: brightness(130%); }
  to { filter: brightness(100%); }
}

/* 2. THE CROWN (Replaces Gift) */
#queenCrown {
  display: none; /* Hidden until timer 0 */
  font-size: 4.5rem;
  margin-top: 20px;
  filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
  animation: crownFloat 3s ease-in-out infinite alternate;
}

@keyframes crownFloat {
  from { transform: translateY(0) scale(1); filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.4)); }
  to { transform: translateY(-15px) scale(1.1); filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8)); }
}

.queen-text {
  font-size: 0.9rem; color: #d4af37; letter-spacing: 2px; text-transform: uppercase; margin-top: 10px; font-weight: bold;
}

/* 3. ACTIVE BUTTON STYLE */
.bday.active-party {
  background: linear-gradient(135deg, #ff4081, #ff80ab);
  color: white;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(255, 64, 129, 0.4);
  transform: scale(1.05);
  animation: pulseBtn 2s infinite;
}

@keyframes pulseBtn {
  0% { transform: scale(1.05); box-shadow: 0 0 0 0 rgba(255, 64, 129, 0.7); }
  70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255, 64, 129, 0); }
  100% { transform: scale(1.05); box-shadow: 0 0 0 0 rgba(255, 64, 129, 0); }
}

/* ================= MODALS & UTILS ================= */
#codeModal, #messageBox {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(5px);
  display: none; align-items: center; justify-content: center; z-index: 50;
}
.modalCard {
  background: white; padding: 25px; border-radius: 20px; width: 90%; max-width: 320px; text-align: center;
  box-shadow: 0 25px 60px rgba(0,0,0,0.3); animation: pop 0.3s ease;
}
@keyframes pop { from {transform: scale(0.8); opacity:0;} to {transform: scale(1); opacity:1;} }
.modalCard input { width: 100%; padding: 10px; margin: 15px 0; border: 1px solid #ddd; border-radius: 8px; }
.modalCard button { padding: 10px 20px; background: #d81b60; color: white; border: none; border-radius: 8px; cursor: pointer; }
.close { position: absolute; top: 15px; right: 15px; cursor: pointer; color: #aaa; }

/* MUSIC BTN */
#musicBtn {
  position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px; background: white; border-radius: 50%; border: none; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-size: 20px; cursor: pointer; z-index: 40;
}
#musicBtn.muted { opacity: 0.6; }
</style>
</head>
<body>

  <div id="effects" style="position:fixed; inset:0; pointer-events:none; z-index:1;"></div>

  <div class="card">
    <div class="photo-container">
      <div class="photo"><img id="photoImg" src="photo1.jpg"></div>
    </div>

    <div id="preHeadings">
      <h2 class="headline">üíå A Special Day Is Almost Here</h2>
      <div class="sub">Because the girl who means everything to me deserves to be celebrated by the world</div>
      <div class="date">13 February</div>
    </div>

    <div class="timer" id="timer"></div>

    <div id="premiumBirthday">
      <h1 class="threed-text">Happy<br>Birthday!</h1>
      <div class="sub" style="margin-top:10px;">The Queen has arrived üëë</div>
    </div>

    <div class="actions">
      <button class="bday" id="bdayBtn" disabled>Happy Birthday üéâ</button>

      <div class="gift-container" id="giftBox" onclick="openGiftModal()">
        <div class="gift-emoji" id="giftIcon">üéÅ</div>
        <div class="gift-text" id="giftLabel">Only for Violina üíó</div>
      </div>

      <div id="queenCrown">
        üëë
        <div class="queen-text">For the Birthday Queen</div>
      </div>
    </div>
  </div>

  <div id="codeModal">
    <div class="modalCard">
      <span class="close" onclick="closeAllModals()">‚úñ</span>
      <h3>Secret Code üíï</h3>
      <input type="password" id="secretInput" placeholder="Enter code">
      <button onclick="checkPasscode()">Unlock</button>
    </div>
  </div>

  <div id="messageBox">
    <div class="modalCard">
      <span class="close" onclick="closeAllModals()">‚úñ</span>
      <p style="text-align:left; line-height:1.6; color:#555;">
        Ayoo üò≠ only a few days left and I genuinely don‚Äôt know how to act normal anymore. My brain is already in celebration mode and my heart is clearly ahead of schedule ü•∞üíñ<br><br>
        Thinking of you feels like pressing pause on the world üíó
      </p>
    </div>
  </div>

  <button id="musicBtn" class="muted" onclick="toggleMusic()">üéµ</button>
  <audio id="bgMusic" src="happy-birthday.mp3"></audio>

<script>
// ==========================================
// üî¥ SET TO TRUE TO TEST ANIMATION (Timer = 3s)
// üü¢ SET TO FALSE FOR REAL DATE
const TEST_MODE = true; 
// ==========================================

const birthdayDate = new Date("February 13, 2026 00:00:00").getTime();
const timerEl = document.getElementById("timer");
const bdayBtn = document.getElementById("bdayBtn");
const preHeadings = document.getElementById("preHeadings");
const giftBox = document.getElementById("giftBox");
const premiumBirthday = document.getElementById("premiumBirthday");
const queenCrown = document.getElementById("queenCrown");

// TIMER LOGIC
const x = setInterval(function() {
  let now = new Date().getTime();
  let distance = birthdayDate - now;

  if (TEST_MODE) { distance = -1; } // Force trigger for testing

  if (distance < 0) {
    clearInterval(x);
    // === TRIGGER PREMIUM MODE ===
    launchPremiumMode();
  } else {
    // Timer Math
    let days = Math.floor(distance / (1000 * 60 * 60 * 24));
    let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    let seconds = Math.floor((distance % (1000 * 60)) / 1000);

    timerEl.innerHTML = `
      <div class="box">${days}d</div>
      <div class="box">${hours}h</div>
      <div class="box">${minutes}m</div>
      <div class="box">${seconds}s</div>
    `;
  }
}, 1000);

function launchPremiumMode() {
  // 1. Hide Pre-Birthday Elements
  timerEl.style.display = "none";
  giftBox.style.display = "none"; // Hide the old gift
  preHeadings.style.display = "none"; // Hide old title

  // 2. Show Premium Elements
  premiumBirthday.style.display = "block";
  queenCrown.style.display = "block"; // Show the CROWN
  
  // Animation delay
  setTimeout(() => {
    premiumBirthday.style.opacity = "1";
    premiumBirthday.style.transform = "scale(1)";
  }, 100);

  // 3. Activate Button
  bdayBtn.disabled = false;
  bdayBtn.classList.add("active-party");
  bdayBtn.innerHTML = "Enter World üéÇ";
  bdayBtn.onclick = () => window.location.href = "birthday.html";

  // 4. Fire Confetti
  fireConfetti();
  
  // 5. Play Music
  if(musicUnlocked) { document.getElementById("bgMusic").play(); }
}

function fireConfetti() {
  var duration = 3 * 1000;
  var end = Date.now() + duration;
  (function frame() {
    confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff4081', '#d4af37', '#ffffff'] });
    confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ff4081', '#d4af37', '#ffffff'] });
    if (Date.now() < end) { requestAnimationFrame(frame); }
  }());
}

// --- MODALS & GIFT LOGIC (Unchanged) ---
const codeModal = document.getElementById("codeModal");
const messageBox = document.getElementById("messageBox");
const secretInput = document.getElementById("secretInput");

function openGiftModal() {
  if (localStorage.getItem("giftOpened") === new Date().toDateString()) {
    alert("Opened for today! Come back tomorrow."); return;
  }
  codeModal.style.display = "flex";
}
function closeAllModals() {
  codeModal.style.display = "none"; messageBox.style.display = "none";
}
function checkPasscode() {
  if (secretInput.value === "1313") {
    localStorage.setItem("giftOpened", new Date().toDateString());
    closeAllModals();
    messageBox.style.display = "flex";
    document.getElementById("giftIcon").textContent = "üéä";
    document.getElementById("giftLabel").textContent = "Opened Today";
    confetti({ particleCount: 50, spread: 60, origin: { y: 0.6 } });
  } else {
    alert("Wrong code üíî");
  }
}

// MUSIC
let musicUnlocked = false;
const bgMusic = document.getElementById("bgMusic");
function toggleMusic() {
  if (bgMusic.paused) {
    bgMusic.play(); musicUnlocked = true; document.getElementById("musicBtn").classList.remove("muted");
  } else {
    bgMusic.pause(); document.getElementById("musicBtn").classList.add("muted");
  }
}

// PHOTO SLIDESHOW
const photos = ["photo1.jpg", "photo2.jpg", "photo3.jpg"];
let p = 0;
const img = document.getElementById("photoImg");
setInterval(() => {
  img.style.opacity = 0;
  setTimeout(() => { p = (p + 1) % photos.length; img.src = photos[p]; img.style.opacity = 1; }, 500);
}, 4000);

</script>
</body>
</html>
